<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview &#8212; OVITO 2.9.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/ovito.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="OVITO 2.9.0 documentation" href="../index.html" />
    <link rel="next" title="File I/O" href="file_io.html" />
    <link rel="prev" title="Running scripts" href="running.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="file_io.html" title="File I/O"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running scripts"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OVITO 2.9.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>OVITO&#8217;s scripting interface provides access to most of program features. Using Python scripting, you can
do many things that are already familiar from the graphical user interface (and even a few more):</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="file_io.html#file-io-overview"><span class="std std-ref">Import data from external files</span></a></li>
<li><a class="reference internal" href="modifiers.html#modifiers-overview"><span class="std std-ref">Apply modifiers to a dataset and configure them</span></a></li>
<li><a class="reference internal" href="file_io.html#file-output-overview"><span class="std std-ref">Export data to a file</span></a></li>
<li><a class="reference internal" href="rendering.html#rendering-viewports"><span class="std std-ref">Set up a camera and render pictures or movies of the scene</span></a></li>
<li><a class="reference internal" href="rendering.html#rendering-display-objects"><span class="std std-ref">Control the visual appearance of particles and other objects</span></a></li>
<li><a class="reference internal" href="particle_properties.html#particle-properties-intro"><span class="std std-ref">Access per-particle properties and other analysis results computed by OVITO</span></a></li>
<li><a class="reference internal" href="custom_modifiers.html#writing-custom-modifiers"><span class="std std-ref">Implement new types of modifiers</span></a></li>
</ul>
</div></blockquote>
<p>But first let&#8217;s take a look at some essential concepts of OVITO&#8217;s data model and the scripting framework.</p>
<div class="section" id="ovito-s-data-pipeline-architecture">
<h2>OVITO&#8217;s data pipeline architecture<a class="headerlink" href="#ovito-s-data-pipeline-architecture" title="Permalink to this headline">¶</a></h2>
<p>If you have worked with OVITO&#8217;s graphical user interface before, you should already be familiar with
its key workflow concept: After loading a simulation file into OVITO you typically apply one or more modifiers
that act on the input data. The result of this sequence of modifiers (<em>modification pipeline</em>) is computed by OVITO
and displayed in the interactive viewports.</p>
<p>To access this capability from a script, we first need to understand the basics of OVITO&#8217;s underlying
data model. In general, there are two different groups of objects that participate in the described system:
Objects that constitute the modification pipeline (i.e. the modifiers and a data source) and <em>data objects</em>, which
carry the data that is being processed by the modifiers. The data objects enter the modification pipeline,
get modified by one or more modifiers, or are newly produced (e.g. as a result of a computation).
We first discuss the objects that constitute the modification pipeline.</p>
</div>
<div class="section" id="data-sources-modifiers-and-more">
<h2>Data sources, modifiers, and more<a class="headerlink" href="#data-sources-modifiers-and-more" title="Permalink to this headline">¶</a></h2>
<p>A modification pipeline is always fed by some <em>data source</em>, which is an object
that provides or generates the input data entering a modification pipeline. OVITO currently knows two types of
data sources: <a class="reference internal" href="../modules/ovito_io.html#ovito.io.FileSource" title="ovito.io.FileSource"><code class="xref py py-class docutils literal"><span class="pre">FileSource</span></code></a> and <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal"><span class="pre">DataCollection</span></code></a>.
The <a class="reference internal" href="../modules/ovito_io.html#ovito.io.FileSource" title="ovito.io.FileSource"><code class="xref py py-class docutils literal"><span class="pre">FileSource</span></code></a> class is the data source type commonly used. It is responsible for loading data
from an external file and passing it on to the modification pipeline.</p>
<p>The data source and the modification pipeline together form an <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a>. This class
orchestrates the data flow from the source into the modification pipeline and caches the pipeline&#8217;s output.
As we will see later, the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> is also responsible for displaying the output
data in the three-dimensional scene. The data source is stored in the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.source" title="ovito.ObjectNode.source"><code class="xref py py-attr docutils literal"><span class="pre">ObjectNode.source</span></code></a>
property. The modification pipeline is simply a list of <a class="reference internal" href="../modules/ovito_modifiers.html#ovito.modifiers.Modifier" title="ovito.modifiers.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a> objects and is
is accessible through the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.modifiers" title="ovito.ObjectNode.modifiers"><code class="xref py py-attr docutils literal"><span class="pre">ObjectNode.modifiers</span></code></a> property.</p>
<p>The <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> is usually placed in the <em>scene</em>, i.e. the three-dimensional world that is visible
through OVITO&#8217;s viewports. All objects in the scene, and all other information that would get saved along in
a <code class="file docutils literal"><span class="pre">.ovito</span></code> file (e.g. current render settings, viewport cameras, etc.), comprise the so-called <a class="reference internal" href="../modules/ovito.html#ovito.DataSet" title="ovito.DataSet"><code class="xref py py-class docutils literal"><span class="pre">DataSet</span></code></a>.
A Python script always runs in the context of one global <a class="reference internal" href="../modules/ovito.html#ovito.DataSet" title="ovito.DataSet"><code class="xref py py-class docutils literal"><span class="pre">DataSet</span></code></a> instance. This
instance can be accessed through the <a class="reference internal" href="../modules/ovito.html#ovito.dataset" title="ovito.dataset"><code class="xref py py-data docutils literal"><span class="pre">ovito.dataset</span></code></a> global variable. The <a class="reference internal" href="../modules/ovito.html#ovito.DataSet" title="ovito.DataSet"><code class="xref py py-class docutils literal"><span class="pre">DataSet</span></code></a> provides access to the
list of object nodes in the scene (<a class="reference internal" href="../modules/ovito.html#ovito.DataSet.scene_nodes" title="ovito.DataSet.scene_nodes"><code class="xref py py-attr docutils literal"><span class="pre">dataset.scene_nodes</span></code></a>),
the current animation settings (<a class="reference internal" href="../modules/ovito.html#ovito.DataSet.anim" title="ovito.DataSet.anim"><code class="xref py py-attr docutils literal"><span class="pre">dataset.anim</span></code></a>), the four
viewports in OVITO&#8217;s main window (<a class="reference internal" href="../modules/ovito.html#ovito.DataSet.viewports" title="ovito.DataSet.viewports"><code class="xref py py-attr docutils literal"><span class="pre">dataset.viewports</span></code></a>), and more.</p>
<a class="reference internal image-reference" href="../_images/ObjectNode.svg"><div align="center" class="align-center"><img alt="../_images/ObjectNode.svg" src="../_images/ObjectNode.svg" width="86%" /></div>
</a>
</div>
<div class="section" id="loading-data-and-applying-modifiers">
<h2>Loading data and applying modifiers<a class="headerlink" href="#loading-data-and-applying-modifiers" title="Permalink to this headline">¶</a></h2>
<p>A new instance of the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> class is automatically created whenever you import a file
using the <a class="reference internal" href="../modules/ovito_io.html#ovito.io.import_file" title="ovito.io.import_file"><code class="xref py py-func docutils literal"><span class="pre">ovito.io.import_file()</span></code></a> function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ovito.io</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">import_file</span><span class="p">(</span><span class="s2">&quot;simulation.dump&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This high-level function creates an <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> with an empty modification pipeline
and sets up a <a class="reference internal" href="../modules/ovito_io.html#ovito.io.FileSource" title="ovito.io.FileSource"><code class="xref py py-class docutils literal"><span class="pre">FileSource</span></code></a> (which will subsequently load the actual data
from the given file) and assigns it to the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.source" title="ovito.ObjectNode.source"><code class="xref py py-attr docutils literal"><span class="pre">ObjectNode.source</span></code></a> property.</p>
<p>We can now start populating the node&#8217;s modification pipeline with some modifiers by appending them
to the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.modifiers" title="ovito.ObjectNode.modifiers"><code class="xref py py-attr docutils literal"><span class="pre">ObjectNode.modifiers</span></code></a> list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ovito.modifiers</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">modifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SelectExpressionModifier</span><span class="p">(</span><span class="n">expression</span><span class="o">=</span><span class="s2">&quot;PotentialEnergy&lt;-3.9&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">modifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">DeleteSelectedParticlesModifier</span><span class="p">())</span>
</pre></div>
</div>
<p>A modifier is constructed by calling the constructor of one of the modifier classes, which are
all found in the <a class="reference internal" href="../modules/ovito_modifiers.html#module-ovito.modifiers" title="ovito.modifiers"><code class="xref py py-mod docutils literal"><span class="pre">ovito.modifiers</span></code></a> module. Note how a modifier&#8217;s parameters can be initialized in two different ways:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When constructing a new object (e.g. a modifier, but also most other OVITO objects) it is possible to directly initialize its
properties by passing keyword arguments to the constructor function. Thus</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">modifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CommonNeighborAnalysisModifier</span><span class="p">(</span><span class="n">cutoff</span><span class="o">=</span><span class="mf">3.2</span><span class="p">,</span> <span class="n">only_selected</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<p>is equivalent to setting the properties one by one after constructing the object:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">modifier</span> <span class="o">=</span> <span class="n">CommonNeighborAnalysisModifier</span><span class="p">()</span>
<span class="n">modifier</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="mf">3.2</span>
<span class="n">modifier</span><span class="o">.</span><span class="n">only_selected</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">node</span><span class="o">.</span><span class="n">modifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">modifier</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">Obviously the first way of initializing the object&#8217;s parameters is more convenient and should be used
whenever the parameter values are known at construction time.</p>
</div>
<p>After the input data has been loaded and the modification pipeline is populated with some modifiers,
we can basically do three different things: (i) export the computation results to a file,
(ii) render an image of the data, (iii) or directly access the pipeline output from the script.
Keep reading, we&#8217;ll now give a quick overview on these tasks and go into details in the later sections.</p>
</div>
<div class="section" id="exporting-data-to-a-file">
<h2>Exporting data to a file<a class="headerlink" href="#exporting-data-to-a-file" title="Permalink to this headline">¶</a></h2>
<p>Exporting the data to a file that is produced by the modification pipeline is simple;
we call the <a class="reference internal" href="../modules/ovito_io.html#ovito.io.export_file" title="ovito.io.export_file"><code class="xref py py-func docutils literal"><span class="pre">ovito.io.export_file()</span></code></a> function for this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">export_file</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;outputdata.dump&quot;</span><span class="p">,</span> <span class="s2">&quot;lammps_dump&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Position.X&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Z&quot;</span><span class="p">,</span> <span class="s2">&quot;Structure Type&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The first argument of this high-level function is the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> whose pipeline results are to be exported.
It is followed by the output filename and the desired output format.
Depending on the selected format, additional keyword arguments such as the list of particle properties to
export must be provided. See the documentation of the <a class="reference internal" href="../modules/ovito_io.html#ovito.io.export_file" title="ovito.io.export_file"><code class="xref py py-func docutils literal"><span class="pre">export_file()</span></code></a> function and <a class="reference internal" href="file_io.html#file-output-overview"><span class="std std-ref">this section</span></a>
of the manual for more information on the supported output formats and additional options.</p>
</div>
<div class="section" id="rendering-images">
<h2>Rendering images<a class="headerlink" href="#rendering-images" title="Permalink to this headline">¶</a></h2>
<p>To render an image, we first need a viewport that defines the view on the three-dimensional scene.
We can either use one of the four predefined viewports of OVITO for this, or simply create an <em>ad hoc</em>
<a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Viewport" title="ovito.vis.Viewport"><code class="xref py py-class docutils literal"><span class="pre">Viewport</span></code></a> instance in Python:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ovito.vis</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span> <span class="o">=</span> <span class="n">Viewport</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Viewport</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">PERSPECTIVE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span><span class="o">.</span><span class="n">camera_pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span><span class="o">.</span><span class="n">camera_dir</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span><span class="o">.</span><span class="n">fov</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">60.0</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see, the <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Viewport" title="ovito.vis.Viewport"><code class="xref py py-class docutils literal"><span class="pre">Viewport</span></code></a> class has several parameters that control the
position and orientation of the camera, the projection type, and the field of view (FOV) angle. Note that this
viewport will not be visible in OVITO&#8217;s main window, because it is not part of the current <a class="reference internal" href="../modules/ovito.html#ovito.DataSet" title="ovito.DataSet"><code class="xref py py-class docutils literal"><span class="pre">DataSet</span></code></a>;
it is only a temporary object used within the script.</p>
<p>In addition we need to create a <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.RenderSettings" title="ovito.vis.RenderSettings"><code class="xref py py-class docutils literal"><span class="pre">RenderSettings</span></code></a> object, which controls the rendering
process (These are the parameters you normally set on the <span class="guilabel">Render</span> tab in OVITO&#8217;s main window):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span> <span class="o">=</span> <span class="n">RenderSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;myimage.png&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have specified the output filename and the size of the image in pixels.
We should not forget to also add the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode" title="ovito.ObjectNode"><code class="xref py py-class docutils literal"><span class="pre">ObjectNode</span></code></a> to the <em>scene</em> by calling:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">add_to_scene</span><span class="p">()</span>
</pre></div>
</div>
<p>Because only object nodes that are part of the scene are visible in the viewports and in rendered images.
Finally, we can let OVITO render an image of the viewport:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vp</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<p>As a final remark, note how we could have used the more compact notation for object initialization introduced above.
We can configure the newly created <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Viewport" title="ovito.vis.Viewport"><code class="xref py py-class docutils literal"><span class="pre">Viewport</span></code></a> and <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.RenderSettings" title="ovito.vis.RenderSettings"><code class="xref py py-class docutils literal"><span class="pre">RenderSettings</span></code></a> by passing the parameter values directly to the class constructors:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">vp</span> <span class="o">=</span> <span class="n">Viewport</span><span class="p">(</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">Viewport</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">PERSPECTIVE</span><span class="p">,</span>
    <span class="n">camera_pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span>
    <span class="n">camera_dir</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">fov</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">60.0</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">vp</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">RenderSettings</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;myimage.png&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-computation-results">
<h2>Accessing computation results<a class="headerlink" href="#accessing-computation-results" title="Permalink to this headline">¶</a></h2>
<p>OVITO&#8217;s scripting interface allows you to directly access the output data leaving the
modification pipeline. But before doing so, we first have to ask OVITO to compute the results of the modification pipeline:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.compute" title="ovito.ObjectNode.compute"><code class="xref py py-meth docutils literal"><span class="pre">compute()</span></code></a> method ensures that all modifiers in the pipeline of the node
have been successfully evaluated. Note that the <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Viewport.render" title="ovito.vis.Viewport.render"><code class="xref py py-meth docutils literal"><span class="pre">render()</span></code></a> and
<a class="reference internal" href="../modules/ovito_io.html#ovito.io.export_file" title="ovito.io.export_file"><code class="xref py py-func docutils literal"><span class="pre">export_file()</span></code></a> functions implicitly call <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.compute" title="ovito.ObjectNode.compute"><code class="xref py py-meth docutils literal"><span class="pre">compute()</span></code></a>
for us. But now, since we want to directly access the pipeline results, we have to explicitly request
an evaluation of the modification pipeline.</p>
<p>The node caches the results of the last pipeline evaluation in the <a class="reference internal" href="../modules/ovito.html#ovito.ObjectNode.output" title="ovito.ObjectNode.output"><code class="xref py py-attr docutils literal"><span class="pre">ObjectNode.output</span></code></a> field
in the form of a <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal"><span class="pre">DataCollection</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">output</span>
<span class="go">DataCollection([&#39;Simulation cell&#39;, &#39;Particle Identifier&#39;, &#39;Position&#39;,</span>
<span class="go">                &#39;Potential Energy&#39;, &#39;Color&#39;, &#39;Structure Type&#39;])</span>
</pre></div>
</div>
<p>It contains all the <em>data objects</em> that were processed or produced
by the modification pipeline. For example, to access the <a class="reference internal" href="../modules/ovito_data.html#ovito.data.SimulationCell" title="ovito.data.SimulationCell"><code class="xref py py-class docutils literal"><span class="pre">simulation</span> <span class="pre">cell</span></code></a> we would write:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">cell</span><span class="o">.</span><span class="n">matrix</span>
<span class="go">[[ 148.147995      0.            0.          -74.0739975 ]</span>
<span class="go"> [   0.          148.07200623    0.          -74.03600311]</span>
<span class="go"> [   0.            0.          148.0756073   -74.03780365]]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">cell</span><span class="o">.</span><span class="n">pbc</span>
<span class="go">(True, True, True)</span>
</pre></div>
</div>
<p>Similarly, the data of individual <a class="reference internal" href="../modules/ovito_data.html#ovito.data.ParticleProperty" title="ovito.data.ParticleProperty"><code class="xref py py-class docutils literal"><span class="pre">particle</span> <span class="pre">properties</span></code></a> may be accessed as NumPy arrays:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">particle_properties</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">array</span>
<span class="go">[[ 73.24230194  -5.77583981  -0.87618297]</span>
<span class="go"> [-49.00170135 -35.47610092 -27.92519951]</span>
<span class="go"> [-50.36349869 -39.02569962 -25.61310005]</span>
<span class="go"> ...,</span>
<span class="go"> [ 42.71210098  59.44919968  38.6432991 ]</span>
<span class="go"> [ 42.9917984   63.53770065  36.33330154]</span>
<span class="go"> [ 44.17670059  61.49860001  37.5401001 ]]</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="../modules/ovito_data.html#module-ovito.data" title="ovito.data"><code class="xref py py-mod docutils literal"><span class="pre">ovito.data</span></code></a> module for a list of data object types that may occur in a <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal"><span class="pre">DataCollection</span></code></a>.</p>
<p>Sometimes we might also be interested in the data that <em>enters</em> the modification pipeline.
The input data, which was read from the external file, is cached by the <a class="reference internal" href="../modules/ovito_io.html#ovito.io.FileSource" title="ovito.io.FileSource"><code class="xref py py-class docutils literal"><span class="pre">FileSource</span></code></a>,
which is itself a <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal"><span class="pre">DataCollection</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">source</span>
<span class="go">DataCollection([&#39;Simulation cell&#39;, &#39;Particle Identifier&#39;, &#39;Position&#39;])</span>
</pre></div>
</div>
</div>
<div class="section" id="controlling-the-visual-appearance-of-objects">
<h2>Controlling the visual appearance of objects<a class="headerlink" href="#controlling-the-visual-appearance-of-objects" title="Permalink to this headline">¶</a></h2>
<p>So far we have only looked at objects that represent data, e.g. particle properties or the simulation cell.
Let&#8217;s see how this data is displayed and how we can control its visual appearance.</p>
<p>Every data object with a visual representation in OVITO is associated with a matching <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Display" title="ovito.vis.Display"><code class="xref py py-class docutils literal"><span class="pre">Display</span></code></a>
object. The display object is stored in the data object&#8217;s <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataObject.display" title="ovito.data.DataObject.display"><code class="xref py py-attr docutils literal"><span class="pre">display</span></code></a> property. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cell</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">cell</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cell</span>                               <span class="c1"># This is the SimulationCell data object</span>
<span class="go">&lt;SimulationCell at 0x7f9a414c8060&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cell</span><span class="o">.</span><span class="n">display</span>                       <span class="c1"># This is its attached display object</span>
<span class="go">&lt;SimulationCellDisplay at 0x7fc3650a1c20&gt;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.SimulationCellDisplay" title="ovito.vis.SimulationCellDisplay"><code class="xref py py-class docutils literal"><span class="pre">SimulationCellDisplay</span></code></a> is responsible for rendering the simulation
cell in the viewports and provides parameters that allow us to configure the visual appearance. For example, to change the
display color of the simulation box:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cell</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">rendering_color</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also turn off the display of any object entirely by setting the <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.Display.enabled" title="ovito.vis.Display.enabled"><code class="xref py py-attr docutils literal"><span class="pre">enabled</span></code></a>
attribute of the display to <code class="docutils literal"><span class="pre">False</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cell</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Particles are rendered by a <a class="reference internal" href="../modules/ovito_vis.html#ovito.vis.ParticleDisplay" title="ovito.vis.ParticleDisplay"><code class="xref py py-class docutils literal"><span class="pre">ParticleDisplay</span></code></a> object. It is always attached to the
<a class="reference internal" href="../modules/ovito_data.html#ovito.data.ParticleProperty" title="ovito.data.ParticleProperty"><code class="xref py py-class docutils literal"><span class="pre">ParticleProperty</span></code></a> object storing the particle positions (which is the only mandatory particle
property that is always defined). Thus, to change the visual appearance of particles,
we have to access the <code class="docutils literal"><span class="pre">Positions</span></code> particle property in the <a class="reference internal" href="../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal"><span class="pre">DataCollection</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pos_prop</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">particle_properties</span><span class="o">.</span><span class="n">position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_prop</span>
<span class="go">&lt;ParticleProperty at 0x7ff5fc868b30&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_prop</span><span class="o">.</span><span class="n">display</span>
<span class="go">&lt;ParticleDisplay at 0x7ff5fc868c40&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_prop</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">shading</span> <span class="o">=</span> <span class="n">ParticleDisplay</span><span class="o">.</span><span class="n">Shading</span><span class="o">.</span><span class="n">Flat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_prop</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">1.4</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="running.html">Running scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_io.html">File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="modifiers.html">Modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="particle_properties.html">Particle properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="rendering.html">Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_modifiers.html">Writing new modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito.html"><code class="docutils literal"><span class="pre">ovito</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito_anim.html"><code class="docutils literal"><span class="pre">ovito.anim</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito_data.html"><code class="docutils literal"><span class="pre">ovito.data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito_io.html"><code class="docutils literal"><span class="pre">ovito.io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito_modifiers.html"><code class="docutils literal"><span class="pre">ovito.modifiers</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ovito_vis.html"><code class="docutils literal"><span class="pre">ovito.vis</span></code></a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="file_io.html" title="File I/O"
             >next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running scripts"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OVITO 2.9.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Alexander Stukowski.
    </div>
  </body>
</html>